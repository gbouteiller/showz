---
export const prerender = false;

import { SignOutButton } from "@clerk/astro/components";
import { api } from "@showz/convex/api";
import { Button } from "@showz/ui/components/button";
import RootLayout from "../_layout.astro";
import { AdminUser } from "./_user";

const preloaded = await Astro.locals.convex.preloadQuery(api.pages.admin);
---

<RootLayout>
  <div class="flex items-center justify-center min-h-svh">
    <div class="flex flex-col items-center justify-center gap-4">
      <AdminUser client:load preloaded={preloaded} />
      <SignOutButton asChild>
        <Button variant="link" className="cursor-pointer"> Sign out </Button>
      </SignOutButton>
      <Button variant="link" className="cursor-pointer">
        <a href="/">Go to Home</a>
      </Button>
    </div>
  </div>
</RootLayout>
